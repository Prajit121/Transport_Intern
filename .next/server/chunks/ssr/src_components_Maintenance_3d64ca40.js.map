{"version":3,"sources":["../../../../src/components/Maintenance.js"],"sourcesContent":["'use client';\nimport React, { useState, useEffect, useMemo } from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip,\n  Legend,\n} from 'chart.js';\nimport { Bar, Line } from 'react-chartjs-2';\nimport dummyData from '../data/dummyData';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  LineElement,\n  PointElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nconst Maintenance = () => {\n  const [selectedMonths, setSelectedMonths] = useState(dummyData.roadMaintenance.map(d => d.month));\n\n  const months = dummyData.roadMaintenance.map(d => d.month);\n  const filteredData = dummyData.roadMaintenance.filter(d => selectedMonths.includes(d.month));\n\n  // Completion rate line chart\n  const completionChartData = {\n    labels: filteredData.map(d => d.month),\n    datasets: [\n      {\n        label: 'Completion Rate (%)',\n        data: filteredData.map(d => d.completionRate),\n        borderColor: 'rgba(16, 185, 129, 1)',\n        backgroundColor: 'rgba(16, 185, 129, 0.1)',\n        tension: 0.4,\n        fill: true,\n      },\n    ],\n  };\n\n  // Projects bar chart\n  const projectsChartData = {\n    labels: filteredData.map(d => d.month),\n    datasets: [\n      {\n        label: 'Scheduled Projects',\n        data: filteredData.map(d => d.scheduledProjects),\n        backgroundColor: 'rgba(59, 130, 246, 0.6)',\n        borderColor: 'rgba(59, 130, 246, 1)',\n        borderWidth: 1,\n      },\n      {\n        label: 'Completed Projects',\n        data: filteredData.map(d => d.completedProjects),\n        backgroundColor: 'rgba(16, 185, 129, 0.6)',\n        borderColor: 'rgba(16, 185, 129, 1)',\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          color: 'rgba(0, 0, 0, 0.7)',\n        },\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n      },\n    },\n    scales: {\n      y: {\n        beginAtZero: true,\n        ticks: {\n          color: 'rgba(0, 0, 0, 0.7)',\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      x: {\n        ticks: {\n          color: 'rgba(0, 0, 0, 0.7)',\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n    },\n  };\n\n  const darkChartOptions = {\n    ...chartOptions,\n    plugins: {\n      ...chartOptions.plugins,\n      legend: {\n        ...chartOptions.plugins.legend,\n        labels: {\n          color: 'rgba(255, 255, 255, 0.7)',\n        },\n      },\n    },\n    scales: {\n      y: {\n        ...chartOptions.scales.y,\n        ticks: {\n          color: 'rgba(255, 255, 255, 0.7)',\n        },\n        grid: {\n          color: 'rgba(255, 255, 255, 0.05)',\n        },\n      },\n      x: {\n        ...chartOptions.scales.x,\n        ticks: {\n          color: 'rgba(255, 255, 255, 0.7)',\n        },\n        grid: {\n          color: 'rgba(255, 255, 255, 0.05)',\n        },\n      },\n    },\n  };\n\n  const [isDarkMode, setIsDarkMode] = useState(false);\n\n  useEffect(() => {\n    setIsDarkMode(document.documentElement.classList.contains('dark'));\n  }, []);\n\n  const currentChartOptions = isDarkMode ? darkChartOptions : chartOptions;\n\n  const stats = useMemo(() => {\n    const avgCompletion = filteredData.reduce((sum, d) => sum + d.completionRate, 0) / filteredData.length;\n    const totalScheduled = filteredData.reduce((sum, d) => sum + d.scheduledProjects, 0);\n    const totalCompleted = filteredData.reduce((sum, d) => sum + d.completedProjects, 0);\n    const bestCompletion = Math.max(...filteredData.map(d => d.completionRate));\n\n    return {\n      avgCompletion: avgCompletion.toFixed(1),\n      totalScheduled,\n      totalCompleted,\n      bestCompletion: bestCompletion.toFixed(1),\n      completionRate: totalScheduled > 0 ? ((totalCompleted / totalScheduled) * 100).toFixed(1) : 0,\n    };\n  }, [filteredData]);\n\n  const handleMonthToggle = (month) => {\n    setSelectedMonths(prev =>\n      prev.includes(month)\n        ? prev.filter(m => m !== month)\n        : [...prev, month]\n    );\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Month Filter */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-4\">\n        <h3 className=\"text-lg font-semibold mb-3 text-gray-900 dark:text-white\">Filter by Month</h3>\n        <div className=\"flex flex-wrap gap-2\">\n          {months.map(month => (\n            <button\n              key={month}\n              onClick={() => handleMonthToggle(month)}\n              className={`px-3 py-1 rounded-md text-sm font-medium transition-colors ${selectedMonths.includes(month)\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600'\n                }`}\n            >\n              {month}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n          <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Avg. Completion Rate</h3>\n          <p className=\"text-3xl font-bold text-green-600 dark:text-green-400 mt-2\">{stats.avgCompletion}%</p>\n        </div>\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n          <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Scheduled</h3>\n          <p className=\"text-3xl font-bold text-blue-600 dark:text-blue-400 mt-2\">{stats.totalScheduled}</p>\n        </div>\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n          <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Total Completed</h3>\n          <p className=\"text-3xl font-bold text-green-600 dark:text-green-400 mt-2\">{stats.totalCompleted}</p>\n        </div>\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n          <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400\">Best Month</h3>\n          <p className=\"text-3xl font-bold text-purple-600 dark:text-purple-400 mt-2\">{stats.bestCompletion}%</p>\n        </div>\n      </div>\n\n      {/* Charts */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-900 dark:text-white\">Completion Rate Trend</h2>\n          <div className=\"h-80\">\n            <Line data={completionChartData} options={{\n              ...currentChartOptions,\n              scales: {\n                ...currentChartOptions.scales,\n                y: {\n                  ...currentChartOptions.scales.y,\n                  min: 0,\n                  max: 100,\n                },\n              },\n            }} />\n          </div>\n        </div>\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow p-6\">\n          <h2 className=\"text-xl font-semibold mb-4 text-gray-900 dark:text-white\">Projects Status</h2>\n          <div className=\"h-80\">\n            <Bar data={projectsChartData} options={currentChartOptions} />\n          </div>\n        </div>\n      </div>\n\n      {/* Data Table */}\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden\">\n        <div className=\"px-6 py-4 border-b border-gray-200 dark:border-gray-700\">\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Monthly Maintenance Data</h2>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n            <thead className=\"bg-gray-50 dark:bg-gray-700\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Month</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Completion Rate</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Scheduled</th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">Completed</th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n              {filteredData.map((row) => (\n                <tr key={row.month} className=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white\">{row.month}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm\">\n                    <span className={`font-semibold ${row.completionRate >= 90 ? 'text-green-600 dark:text-green-400' :\n                      row.completionRate >= 75 ? 'text-yellow-600 dark:text-yellow-400' :\n                        'text-red-600 dark:text-red-400'\n                      }`}>\n                      {row.completionRate}%\n                    </span>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\">{row.scheduledProjects}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400 font-semibold\">\n                    {row.completedProjects}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Maintenance;\n\n"],"names":[],"mappings":"wDACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAWA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,KAAO,CAAC,QAAQ,CACd,EAAA,aAAa,CACb,EAAA,WAAW,CACX,EAAA,UAAU,CACV,EAAA,WAAW,CACX,EAAA,YAAY,CACZ,EAAA,KAAK,CACL,EAAA,OAAO,CACP,EAAA,MAAM,mBAGY,KAClB,GAAM,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,EAAA,OAAS,CAAC,eAAe,CAAC,GAAG,CAAC,GAAK,EAAE,KAAK,GAEzF,EAAS,EAAA,OAAS,CAAC,eAAe,CAAC,GAAG,CAAC,GAAK,EAAE,KAAK,EACnD,EAAe,EAAA,OAAS,CAAC,eAAe,CAAC,MAAM,CAAC,GAAK,EAAe,QAAQ,CAAC,EAAE,KAAK,GAGpF,EAAsB,CAC1B,OAAQ,EAAa,GAAG,CAAC,GAAK,EAAE,KAAK,EACrC,SAAU,CACR,CACE,MAAO,sBACP,KAAM,EAAa,GAAG,CAAC,GAAK,EAAE,cAAc,EAC5C,YAAa,wBACb,gBAAiB,0BACjB,QAAS,GACT,MAAM,CACR,EACD,AACH,EAGM,EAAoB,CACxB,OAAQ,EAAa,GAAG,CAAC,GAAK,EAAE,KAAK,EACrC,SAAU,CACR,CACE,MAAO,qBACP,KAAM,EAAa,GAAG,CAAC,GAAK,EAAE,iBAAiB,EAC/C,gBAAiB,0BACjB,YAAa,wBACb,YAAa,CACf,EACA,CACE,MAAO,qBACP,KAAM,EAAa,GAAG,CAAC,GAAK,EAAE,iBAAiB,EAC/C,gBAAiB,0BACjB,YAAa,wBACb,YAAa,CACf,EACD,AACH,EAEM,EAAe,CACnB,YAAY,EACZ,qBAAqB,EACrB,QAAS,CACP,OAAQ,CACN,SAAU,MACV,OAAQ,CACN,MAAO,oBACT,CACF,EACA,QAAS,CACP,KAAM,QACN,WAAW,CACb,CACF,EACA,OAAQ,CACN,EAAG,CACD,aAAa,EACb,MAAO,CACL,MAAO,oBACT,EACA,KAAM,CACJ,MAAO,qBACT,CACF,EACA,EAAG,CACD,MAAO,CACL,MAAO,oBACT,EACA,KAAM,CACJ,MAAO,qBACT,CACF,CACF,CACF,EAEM,EAAmB,CACvB,GAAG,CAAY,CACf,QAAS,CACP,GAAG,EAAa,OAAO,CACvB,OAAQ,CACN,GAAG,EAAa,OAAO,CAAC,MAAM,CAC9B,OAAQ,CACN,MAAO,0BACT,CACF,CACF,EACA,OAAQ,CACN,EAAG,CACD,GAAG,EAAa,MAAM,CAAC,CAAC,CACxB,MAAO,CACL,MAAO,0BACT,EACA,KAAM,CACJ,MAAO,2BACT,CACF,EACA,EAAG,CACD,GAAG,EAAa,MAAM,CAAC,CAAC,CACxB,MAAO,CACL,MAAO,0BACT,EACA,KAAM,CACJ,MAAO,2BACT,CACF,CACF,CACF,EAEM,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAE7C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,EAAc,SAAS,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC,QAC5D,EAAG,EAAE,EAEL,IAAM,EAAsB,EAAa,EAAmB,EAEtD,EAAQ,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACpB,IAAM,EAAgB,EAAa,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,cAAc,CAAE,GAAK,EAAa,MAAM,CAChG,EAAiB,EAAa,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,iBAAiB,CAAE,GAC5E,EAAiB,EAAa,MAAM,CAAC,CAAC,EAAK,IAAM,EAAM,EAAE,iBAAiB,CAAE,GAC5E,EAAiB,KAAK,GAAG,IAAI,EAAa,GAAG,CAAC,GAAK,EAAE,cAAc,GAEzE,MAAO,CACL,cAAe,EAAc,OAAO,CAAC,kBACrC,iBACA,EACA,eAAgB,EAAe,OAAO,CAAC,GACvC,eAAgB,EAAiB,EAAI,AAAE,GAAiB,EAAkB,GAAA,CAAG,CAAE,OAAO,CAAC,GAAK,CAC9F,CACF,EAAG,CAAC,EAAa,EAUjB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oEAA2D,oBACzE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAO,GAAG,CAAC,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,CAhBzB,EAAkB,GAChB,EAAK,QAAQ,CAAC,AAe2B,GAdrC,EAAK,MAAM,CAAC,GAAK,MAAM,CACvB,IAAI,IAAY,GAcZ,UAAW,CAAC,2DAA2D,EAAE,EAAe,QAAQ,CAAC,GAC7F,yBACA,yGAAA,CACA,UAEH,GAPI,SAcb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gEAAuD,yBACrE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uEAA8D,EAAM,aAAa,CAAC,UAEjG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gEAAuD,oBACrE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oEAA4D,EAAM,cAAc,MAE/F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gEAAuD,oBACrE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sEAA8D,EAAM,cAAc,MAEjG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gEAAuD,eACrE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yEAAgE,EAAM,cAAc,CAAC,aAKtG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oEAA2D,0BACzE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,KAAM,EAAqB,QAAS,CACxC,GAAG,CAAmB,CACtB,OAAQ,CACN,GAAG,EAAoB,MAAM,CAC7B,EAAG,CACD,GAAG,EAAoB,MAAM,CAAC,CAAC,CAC/B,IAAK,EACL,IAAK,GACP,CACF,CACF,SAGJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oEAA2D,oBACzE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,KAAM,EAAmB,QAAS,YAM7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+DAAsD,+BAEtE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,qEACf,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,uCACf,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6GAAoG,UAClH,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6GAAoG,oBAClH,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6GAAoG,cAClH,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6GAAoG,mBAGtH,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,mFACd,EAAa,GAAG,CAAC,AAAC,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAmB,UAAU,oDAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yFAAiF,EAAI,KAAK,GACxG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CACZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAW,CAAC,cAAc,EAAE,EAAI,cAAc,EAAI,GAAK,qCAC3D,EAAI,cAAc,EAAI,GAAK,uCACzB,iCAAA,CACA,WACD,EAAI,cAAc,CAAC,SAGxB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gFAAwE,EAAI,iBAAiB,GAC3G,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,gGACX,EAAI,iBAAiB,KAZjB,EAAI,KAAK,eAsBlC"}